<?xml version="1.0" encoding="UTF-8"?>
<project name="com.tle.core.connectors.blackboard" basedir=".">
    <import file="../../build/plugins-common-build.xml"/>
    <property name="wsdl" location="EQUELLA.WS.wsdl"/>
    <property name="contextwsdl" location="Context.WS.wsdl"/>
    <property name="external.lib" location="../../External"/>

    <target name="generate-source" depends="common.generate-source, define-build.classpath">
    	<eclipseClasspath pathid="axis.classpath" pluginid="org.apache.axis2:axis2-codegen,org.apache.axis2:axis2-adb-codegen,wsdl4j:wsdl4j,org.apache.neethi:neethi,org.apache.ws.commons.axiom:axiom-impl,commons-logging:commons-logging,log4j:log4j"/>
        <java classname="org.apache.axis2.wsdl.WSDL2Code" failonerror="true" fork="true">
            <arg value="-o"/>
            <arg value="${gensrc}"/>
            <arg value="-S"/>
            <arg value="."/>
            <arg value="-p"/>
            <arg value="com.tle.core.connectors.blackboard.webservice"/>
            <arg value="-d"/>
            <arg value="adb"/>
            <arg value="-uri"/>
            <arg path="${wsdl}"/>
            <classpath>
                <path refid="axis.classpath"/>
            </classpath>
        </java>
        <java classname="org.apache.axis2.wsdl.WSDL2Code" failonerror="true" fork="true">
            <arg value="-o"/>
            <arg value="${gensrc}"/>
            <arg value="-S"/>
            <arg value="."/>
            <arg value="-p"/>
            <arg value="com.blackboard"/>
            <arg value="-d"/>
            <arg value="adb"/>
            <arg value="-uri"/>
            <arg path="${contextwsdl}"/>
            <classpath>
                <path refid="axis.classpath"/>
            </classpath>
        </java>
    </target>
</project>
